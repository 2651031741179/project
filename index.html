<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register</title>

  <!-- โหลดฟอนต์จาก Google โดยตรง -->
  <link href="https://fonts.googleapis.com/css2?family=Playpen+Sans+Thai:wght@400;600&display=swap" rel="stylesheet">

  <!-- ลิงก์ CSS หลักของคุณ -->
  <link rel="stylesheet" href="css/index.css">

    <!--bootstram-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- ใช้ฟอนต์ -->
  <style>
    body, table, th, td, label, input, button, select, h1, p {
      font-family: 'Playpen Sans Thai', cursive;
    }
  </style>
</head>
<body>

  <form action="controller/regis md5.php" method="post">
    <div class="container">
      <h1>Register</h1>
      <p>Please fill in this form to create an account.</p>
      <hr>

      <div class="mb-3">
  <label for="gender" class="form-label">คำนำหน้าชื่อ</label>
  <select class="form-select" name="gender" id="gender" required>
    <option value="">-- กรุณาเลือกคำนำหน้าชื่อ --</option>
    <!-- จะถูกเติมผ่าน JavaScript -->
  </select>
</div>

      <div class="mb-3">
      <label for="name" class="form-label">ชื่อ</label>
      <input type="text" class="form-control" name="name" id="name" required>
    </div>

    <div class="mb-3">
      <label for="lastname" class="form-label">นามสกุล</label>
      <input type="text" class="form-control" name="lastname" id="lastname" required>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">อีเมล</label>
      <input type="email" class="form-control" name="email" id="email" required>
    </div>

    <div class="mb-3">
      <label for="password" class="form-label">รหัสผ่าน</label>
      <input type="password" class="form-control" name="password" id="password" required>
    </div>

    <div class="mb-3">
      <label for="department" class="form-label">แผนก</label>
      <select class="form-select" name="department" id="department" required>
        <option value="">-- กรุณาเลือกแผนก --</option>
      </select>
    </div>

    <div class="mb-3">
  <label for="deviceName" class="form-label">ชื่ออุปกรณ์</label>
  <input type="text" class="form-control" name="deviceName" id="deviceName" required>
</div>

<div class="mb-3">
  <label for="cpu" class="form-label">CPU</label>
  <select class="form-select" name="cpu" id="cpu" required>
    <option value="">-- กรุณาเลือก CPU --</option>
  </select>
</div>

<div class="mb-3">
  <label for="ram" class="form-label">RAM</label>
  <select class="form-select" name="ram" id="ram" required>
    <option value="">-- กรุณาเลือก RAM --</option>
  </select>
</div>

<div class="mb-3">
  <label for="os" class="form-label">ระบบปฏิบัติการ (OS)</label>
  <select class="form-select" name="os" id="os" required>
    <option value="">-- กรุณาเลือก OS --</option>
  </select>
</div>

<div class="mb-3">
  <label for="storage" class="form-label">Storage</label>
  <select class="form-select" name="storage" id="storage" required>
    <option value="">-- กรุณาเลือก Storage --</option>
  </select>
</div>

<!-- MAC Address -->
<div class="mb-3">
  <label for="mac" class="form-label">MAC Address</label>
  <input type="text" class="form-control" name="mac" id="mac" required>
</div>

<!-- IP Address -->
<div class="mb-3">
  <label for="ip" class="form-label">IP Address</label>
  <input type="text" class="form-control" name="ip" id="ip" required>
</div>

<!-- Connection Type -->
<div class="mb-3">
  <label for="connectionType" class="form-label">ประเภทการเชื่อมต่อ</label>
  <select class="form-select" name="connectionType" id="connectionType" required>
    <option value="">-- เลือกประเภทการเชื่อมต่อ --</option>
    <option value="LAN">LAN</option>
    <option value="Wi-Fi">Wi-Fi</option>
    <option value="Bluetooth">Bluetooth</option>
    <option value="Cellular">Cellular</option>
  </select>
</div>

    <button type="submit" class="btn btn-primary w-100">สมัครสมาชิก</button>

    <div class="mt-3 text-center">
      <p>มีบัญชีอยู่แล้ว? <a href="../login.html" target="_blank">เข้าสู่ระบบ</a></p>
    </div>
  </div>
</form>

  <script>
  fetch('get_departments.php')
    .then(response => response.json())
    .then(data => {
      const select = document.getElementById('department');
      data.forEach(dept => {
        const option = document.createElement('option');
        option.value = dept.id;
        option.textContent = dept.name;
        select.appendChild(option);
      });
    })
    .catch(error => {
      console.error('❌ ดึงข้อมูลแผนกล้มเหลว:', error);
    });
</script>

 <script>
  fetch('get_gender.php')
    .then(response => response.json())
    .then(data => {
      const select = document.getElementById('gender');
      data.forEach(dept => {
        const option = document.createElement('option');
        option.value = dept.id;
        option.textContent = dept.gender;
        select.appendChild(option);
      });
    })
    .catch(error => {
      console.error('❌ ดึงข้อมูลแผนกล้มเหลว:', error);
    });
</script>
<script>
  const cpuOptions = [
    { id: 'intel_i3', name: 'Intel Core i3' },
    { id: 'intel_i5', name: 'Intel Core i5' },
    { id: 'intel_i7', name: 'Intel Core i7' },
    { id: 'intel_i9', name: 'Intel Core i9' },
    { id: 'amd_ryzen3', name: 'AMD Ryzen 3' },
    { id: 'amd_ryzen5', name: 'AMD Ryzen 5' },
    { id: 'amd_ryzen7', name: 'AMD Ryzen 7' },
    { id: 'amd_ryzen9', name: 'AMD Ryzen 9' }
  ];

  const ramOptions = [
    { id: '4gb', name: '4 GB' },
    { id: '8gb', name: '8 GB' },
    { id: '16gb', name: '16 GB' },
    { id: '32gb', name: '32 GB' },
    { id: '64gb', name: '64 GB' }
  ];

  const osOptions = [
    { id: 'windows10', name: 'Windows 10' },
    { id: 'windows11', name: 'Windows 11' },
    { id: 'macos_monterey', name: 'macOS Monterey' },
    { id: 'macos_ventura', name: 'macOS Ventura' },
    { id: 'ubuntu', name: 'Ubuntu Linux' },
    { id: 'fedora', name: 'Fedora Linux' }
  ];

  const storageOptions = [
    { id: '256gb_ssd', name: '256 GB SSD' },
    { id: '512gb_ssd', name: '512 GB SSD' },
    { id: '1tb_ssd', name: '1 TB SSD' },
    { id: '256gb_hdd', name: '256 GB HDD' },
    { id: '1tb_hdd', name: '1 TB HDD' },
    { id: '2tb_hdd', name: '2 TB HDD' }
  ];

  function populateSelect(selectId, options) {
    const select = document.getElementById(selectId);
    options.forEach(option => {
      const el = document.createElement('option');
      el.value = option.id;
      el.textContent = option.name;
      select.appendChild(el);
    });
  }

  populateSelect('cpu', cpuOptions);
  populateSelect('ram', ramOptions);
  populateSelect('os', osOptions);
  populateSelect('storage', storageOptions);
</script>

<script>
  const ipInput = document.getElementById('ip');

  ipInput.addEventListener('input', () => {
    let value = ipInput.value.replace(/[^0-9]/g, ''); // เอาเฉพาะตัวเลข
    let segments = [];
    let segmentLengths = [3, 3, 3, 3]; // ให้สามารถพิมพ์รวมได้สูงสุด 12 ตัวอักษร

    for (let i = 0, segIndex = 0; i < value.length && segments.length < 4; segIndex++) {
      let len = Math.min(3, value.length - i); // ไม่เกิน 3 หลัก
      let segment = value.substring(i, i + len);
      segments.push(segment);
      i += len;
    }

    ipInput.value = segments.join('.');
  });

  // ป้องกันผู้ใช้พิมพ์จุดเอง
  ipInput.addEventListener('keydown', (e) => {
    if (e.key === '.') {
      e.preventDefault();
    }
  });
</script>

<script>
  const macInput = document.getElementById('mac');

macInput.addEventListener('input', () => {
  // เอาเฉพาะตัวเลข 0-9 และ a-f/A-F
  let val = macInput.value.replace(/[^0-9a-fA-F]/g, '').toUpperCase();

  // ตัดความยาวไม่เกิน 12 ตัวอักษร
  val = val.slice(0, 12);

  // แบ่งเป็นคู่ละ 2 ตัว แล้วต่อด้วย ':'
  let parts = [];
  for (let i = 0; i < val.length; i += 2) {
    parts.push(val.slice(i, i + 2));
  }

  macInput.value = parts.join(':');
});

// ป้องกันพิมพ์เครื่องหมายอื่น ๆ นอกจาก 0-9, a-f, A-F, Backspace, Delete, Arrow keys, และปุ่มควบคุมที่จำเป็น
macInput.addEventListener('keydown', (e) => {
  const allowedKeys = [
    'Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab',
  ];

  const isHexChar = /^[0-9a-fA-F]$/.test(e.key);
  if (!isHexChar && !allowedKeys.includes(e.key)) {
    e.preventDefault();
  }
});

</script>

</body>
</html>
